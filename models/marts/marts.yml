version: 2

models:
  - name: mart_monthly_revenue
    description: >
      Monthly aggregated revenue, order count, and AOV.
      This table is used as the primary input for executive and BI dashboards.
    columns:
      - name: order_yyyymm
        tests:
          - not_null
          - unique
      - name: revenue
        tests:
          - not_null

  - name: mart_revenue_mom
    description: "Month-over-month revenue growth and cumulative revenue"
    columns:
      - name: order_yyyymm
        tests:
          - not_null
          - unique
      - name: revenue
        tests:
          - not_null

  - name: mart_category_sales_monthly
    description: "Monthly revenue and volume metrics by product category"
    columns:
      - name: category
        tests:
          - not_null
      - name: category_revenue
        tests:
          - not_null

  - name: mart_cohort_retention
    description: "Customer retention by acquisition cohort"
    columns:
      - name: cohort_month
        tests:
          - not_null

  - name: mart_monthly_churn
    description: "Monthly customer churn metrics"
    columns:
      - name: order_month_start
        tests:
          - not_null
      - name: churn_rate
        tests:
          - not_null
